{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport Head from 'next/head';\nimport Link from 'next/link';\nimport Container from 'components/UI/Container/Container';\nimport Heading from 'components/UI/Heading/Heading';\nimport SectionTitle from 'components/SectionTitle/SectionTitle';\nimport SearchArea from 'container/Home/Search/Search';\nimport LocationGrid from 'container/Home/Location/Location';\nimport SectionGrid from 'components/SectionGrid/SectionGrid';\nimport GetAPIData from 'library/helpers/get_api_data';\nimport { getDeviceType } from 'library/helpers/get_device_type';\nimport { LISTING_POSTS_PAGE, SINGLE_POST_PAGE } from 'settings/constant';\nimport { HOME_PAGE_SECTIONS_ITEM_LIMIT_FOR_MOBILE_DEVICE, HOME_PAGE_SECTIONS_ITEM_LIMIT_FOR_TABLET_DEVICE, HOME_PAGE_SECTIONS_ITEM_LIMIT_FOR_DESKTOP_DEVICE, HOME_PAGE_SECTIONS_COLUMNS_RESPONSIVE_WIDTH } from 'settings/config';\nexport default function HomePage({\n  deviceType,\n  locationData,\n  topHotelData,\n  luxaryHotelData\n}) {\n  let limit;\n\n  if (deviceType === 'mobile') {\n    limit = HOME_PAGE_SECTIONS_ITEM_LIMIT_FOR_MOBILE_DEVICE;\n  }\n\n  if (deviceType === 'tablet') {\n    limit = HOME_PAGE_SECTIONS_ITEM_LIMIT_FOR_TABLET_DEVICE;\n  }\n\n  if (deviceType === 'desktop') {\n    limit = HOME_PAGE_SECTIONS_ITEM_LIMIT_FOR_DESKTOP_DEVICE;\n  }\n\n  return __jsx(React.Fragment, null, __jsx(Head, null, __jsx(\"title\", null, \"TripFinder. | A react next listing template\")), __jsx(SearchArea, null), __jsx(LocationGrid, {\n    data: locationData,\n    deviceType: deviceType\n  }), __jsx(Container, {\n    fluid: true\n  }, __jsx(SectionTitle, {\n    title: __jsx(Heading, {\n      content: \"Travelers\\u2019 Choice: Top hotels\"\n    }),\n    link: __jsx(Link, {\n      href: LISTING_POSTS_PAGE\n    }, __jsx(\"a\", null, \"Show all\"))\n  }), __jsx(SectionGrid, {\n    link: SINGLE_POST_PAGE,\n    columnWidth: HOME_PAGE_SECTIONS_COLUMNS_RESPONSIVE_WIDTH,\n    data: topHotelData.slice(0, limit),\n    limit: limit,\n    deviceType: deviceType\n  }), __jsx(SectionTitle, {\n    title: __jsx(Heading, {\n      content: \"Best Rated: Luxary hotels\"\n    }),\n    link: __jsx(Link, {\n      href: LISTING_POSTS_PAGE\n    }, __jsx(\"a\", null, \"Show all\"))\n  }), __jsx(SectionGrid, {\n    link: SINGLE_POST_PAGE,\n    columnWidth: HOME_PAGE_SECTIONS_COLUMNS_RESPONSIVE_WIDTH,\n    data: luxaryHotelData.slice(0, limit),\n    limit: limit,\n    deviceType: deviceType\n  })));\n}\nexport async function getServerSideProps(context) {\n  const {\n    req\n  } = context;\n  const apiUrl = [{\n    endpoint: 'hotel',\n    name: 'luxaryHotelData'\n  }, {\n    endpoint: 'top-hotel',\n    name: 'topHotelData'\n  }, {\n    endpoint: 'location',\n    name: 'locationData'\n  }];\n  const deviceType = getDeviceType(req);\n  const pageData = await GetAPIData(apiUrl);\n  let locationData = [],\n      topHotelData = [],\n      luxaryHotelData = [];\n\n  if (pageData) {\n    pageData.forEach((item, key) => {\n      if (item.name === 'locationData') {\n        locationData = item.data ? [...item.data] : [];\n      } else if (item.name === 'topHotelData') {\n        topHotelData = item.data ? [...item.data] : [];\n      } else if (item.name === 'luxaryHotelData') {\n        luxaryHotelData = item.data ? [...item.data] : [];\n      }\n    });\n  }\n\n  return {\n    props: {\n      deviceType,\n      locationData,\n      topHotelData,\n      luxaryHotelData\n    }\n  };\n}","map":null,"metadata":{},"sourceType":"module"}