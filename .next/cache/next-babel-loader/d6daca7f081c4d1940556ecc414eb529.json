{"ast":null,"code":"import _Row from \"antd/lib/row\";\nimport _Col from \"antd/lib/col\";\nimport _Modal from \"antd/lib/modal\";\nimport _Button from \"antd/lib/button\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect } from 'react';\nimport Head from 'next/head';\nimport isEmpty from 'lodash/isEmpty';\nimport Sticky from 'react-stickynode';\nimport Container from 'components/UI/Container/Container';\nimport Loader from 'components/Loader/Loader';\nimport { getDeviceType } from 'library/helpers/get_device_type';\nimport GetAPIData, { ProcessAPIData } from 'library/helpers/get_api_data';\nimport Description from 'container/SinglePage/Description/Description';\nimport Amenities from 'container/SinglePage/Amenities/Amenities';\nimport Location from 'container/SinglePage/Location/Location';\nimport Review from 'container/SinglePage/Review/Review';\nimport Reservation from 'container/SinglePage/Reservation/Reservation';\nimport BottomReservation from 'container/SinglePage/Reservation/BottomReservation';\nimport TopBar from 'container/SinglePage/TopBar/TopBar';\nimport SinglePageWrapper, { PostImage } from 'container/SinglePage/SinglePageView.style';\nimport PostImageGallery from 'container/SinglePage/ImageGallery/ImageGallery';\nexport default function SinglePostPage({\n  processedData,\n  deviceType,\n  query\n}) {\n  const {\n    0: href,\n    1: setHref\n  } = useState('');\n  const {\n    0: isModalShowing,\n    1: setIsModalShowing\n  } = useState(false);\n  if (isEmpty(processedData)) return __jsx(Loader, null);\n  const {\n    reviews,\n    rating,\n    ratingCount,\n    price,\n    title,\n    gallery,\n    location,\n    content,\n    amenities,\n    author\n  } = processedData[0];\n  const pageTitle = query.slug.split('-').join(' ').charAt(0).toUpperCase() + query.slug.split('-').join(' ').slice(1);\n  useEffect(() => {\n    const path = window.location.href;\n    setHref(path);\n  }, [setHref]);\n  return __jsx(React.Fragment, null, __jsx(Head, null, __jsx(\"title\", null, pageTitle, \" | TripFinder.\")), __jsx(SinglePageWrapper, null, __jsx(PostImage, null, __jsx(_Button, {\n    type: \"primary\",\n    onClick: () => setIsModalShowing(true),\n    className: \"image_gallery_button\"\n  }, \"View Photos\"), __jsx(_Modal, {\n    visible: isModalShowing,\n    onCancel: () => setIsModalShowing(false),\n    footer: null,\n    width: \"100%\",\n    maskStyle: {\n      backgroundColor: 'rgba(255, 255, 255, 0.95)'\n    },\n    wrapClassName: \"image_gallery_modal\",\n    closable: false\n  }, __jsx(React.Fragment, null, __jsx(PostImageGallery, null), __jsx(_Button, {\n    onClick: () => setIsModalShowing(false),\n    className: \"image_gallery_close\"\n  }, __jsx(\"svg\", {\n    width: \"16.004\",\n    height: \"16\",\n    viewBox: \"0 0 16.004 16\"\n  }, __jsx(\"path\", {\n    id: \"_ionicons_svg_ios-close_2_\",\n    d: \"M170.4,168.55l5.716-5.716a1.339,1.339,0,1,0-1.894-1.894l-5.716,5.716-5.716-5.716a1.339,1.339,0,1,0-1.894,1.894l5.716,5.716-5.716,5.716a1.339,1.339,0,0,0,1.894,1.894l5.716-5.716,5.716,5.716a1.339,1.339,0,0,0,1.894-1.894Z\",\n    transform: \"translate(-160.5 -160.55)\",\n    fill: \"#909090\"\n  })))))), __jsx(TopBar, {\n    title: title,\n    shareURL: href,\n    author: author,\n    media: gallery\n  }), __jsx(Container, null, __jsx(_Row, {\n    gutter: 30,\n    id: \"reviewSection\",\n    style: {\n      marginTop: 30\n    }\n  }, __jsx(_Col, {\n    xl: 16\n  }, __jsx(Description, {\n    content: content,\n    title: title,\n    location: location,\n    rating: rating,\n    ratingCount: ratingCount\n  }), __jsx(Amenities, {\n    amenities: amenities\n  }), __jsx(Location, {\n    location: processedData[0]\n  })), __jsx(_Col, {\n    xl: 8\n  }, deviceType === 'desktop' ? __jsx(Sticky, {\n    innerZ: 999,\n    activeClass: \"isSticky\",\n    top: 202,\n    bottomBoundary: \"#reviewSection\"\n  }, __jsx(Reservation, null)) : __jsx(BottomReservation, {\n    title: title,\n    price: price,\n    rating: rating,\n    ratingCount: ratingCount\n  }))), __jsx(_Row, {\n    gutter: 30\n  }, __jsx(_Col, {\n    xl: 16\n  }, __jsx(Review, {\n    reviews: reviews,\n    ratingCount: ratingCount,\n    rating: rating\n  })), __jsx(_Col, {\n    xl: 8\n  })))));\n}\nexport async function getServerSideProps(context) {\n  const {\n    req,\n    query\n  } = context;\n  const apiUrl = [{\n    endpoint: 'hotel-single',\n    name: 'hotelSingleData'\n  }];\n  const pageData = await GetAPIData(apiUrl);\n  const processedData = ProcessAPIData(pageData);\n  const deviceType = getDeviceType(req);\n  return {\n    props: {\n      query,\n      processedData,\n      deviceType\n    }\n  };\n}","map":null,"metadata":{},"sourceType":"module"}