{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport fetch from 'isomorphic-unfetch';\nimport shuffle from 'lodash/shuffle';\n\nvar FetchAPIData = function FetchAPIData(url) {\n  return fetch(url).then(function (r) {\n    return r.json();\n  }).then(function (data) {\n    return data;\n  });\n};\n\n_c = FetchAPIData;\nexport var ProcessAPIData = function ProcessAPIData(apiData) {\n  var fetchData = {};\n\n  if (apiData) {\n    apiData.forEach(function (item, key) {\n      fetchData.data = item.data ? _toConsumableArray(item.data) : [];\n      fetchData.name = item.name ? item.name : '';\n    });\n  }\n\n  var data = fetchData ? fetchData.data : [];\n  return data;\n};\n_c2 = ProcessAPIData;\nexport var SearchedData = function SearchedData(processedData) {\n  var randNumber = Math.floor(Math.random() * 50 + 1);\n  var data = shuffle(processedData.slice(0, randNumber));\n  return data;\n};\n_c3 = SearchedData;\nexport var SearchStateKeyCheck = function SearchStateKeyCheck(state) {\n  for (var key in state) {\n    if (state[key] !== null && state[key] != '' && state[key] != [] && state[key] != 0 && state[key] != 100) {\n      return true;\n    }\n  }\n\n  return false;\n};\n_c4 = SearchStateKeyCheck;\nexport var Paginator = function Paginator(posts, processedData, limit) {\n  return [].concat(_toConsumableArray(posts), _toConsumableArray(processedData.slice(posts.length, posts.length + limit)));\n};\n_c5 = Paginator;\n\nvar GetAPIData = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(apiUrl) {\n    var promises, receviedData;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            promises = apiUrl.map( /*#__PURE__*/function () {\n              var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(repo) {\n                var apiPath, api, response;\n                return _regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        apiPath = \"\".concat(process.env.SERVER_API, \"/static/data\"); // read it from env variable\n\n                        api = \"\".concat(apiPath, \"/\").concat(repo.endpoint, \".json\");\n                        _context.next = 4;\n                        return FetchAPIData(api);\n\n                      case 4:\n                        response = _context.sent;\n                        return _context.abrupt(\"return\", {\n                          name: repo.name,\n                          data: response\n                        });\n\n                      case 6:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              }));\n\n              return function (_x2) {\n                return _ref2.apply(this, arguments);\n              };\n            }());\n            _context2.next = 3;\n            return Promise.all(promises);\n\n          case 3:\n            receviedData = _context2.sent;\n            return _context2.abrupt(\"return\", receviedData);\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function GetAPIData(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n_c6 = GetAPIData;\nexport default GetAPIData;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"FetchAPIData\");\n$RefreshReg$(_c2, \"ProcessAPIData\");\n$RefreshReg$(_c3, \"SearchedData\");\n$RefreshReg$(_c4, \"SearchStateKeyCheck\");\n$RefreshReg$(_c5, \"Paginator\");\n$RefreshReg$(_c6, \"GetAPIData\");","map":{"version":3,"sources":["C:/Users/Puneet/Documents/trip-main/library/helpers/get_api_data.js"],"names":["fetch","shuffle","FetchAPIData","url","then","r","json","data","ProcessAPIData","apiData","fetchData","forEach","item","key","name","SearchedData","processedData","randNumber","Math","floor","random","slice","SearchStateKeyCheck","state","Paginator","posts","limit","length","GetAPIData","apiUrl","promises","map","repo","apiPath","process","env","SERVER_API","api","endpoint","response","Promise","all","receviedData"],"mappings":"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","sourcesContent":["import fetch from 'isomorphic-unfetch';\nimport shuffle from 'lodash/shuffle';\n\nconst FetchAPIData = (url) => {\n  return fetch(url)\n    .then((r) => r.json())\n    .then((data) => {\n      return data;\n    });\n};\n\nexport const ProcessAPIData = (apiData) => {\n  let fetchData = {};\n  if (apiData) {\n    apiData.forEach((item, key) => {\n      fetchData.data = item.data ? [...item.data] : [];\n      fetchData.name = item.name ? item.name : '';\n    });\n  }\n  const data = fetchData ? fetchData.data : [];\n  return data;\n};\n\nexport const SearchedData = (processedData) => {\n  const randNumber = Math.floor(Math.random() * 50 + 1);\n  const data = shuffle(processedData.slice(0, randNumber));\n  return data;\n};\n\nexport const SearchStateKeyCheck = (state) => {\n  for (var key in state) {\n    if (\n      state[key] !== null &&\n      state[key] != '' &&\n      state[key] != [] &&\n      state[key] != 0 &&\n      state[key] != 100\n    ) {\n      return true;\n    }\n  }\n  return false;\n};\n\nexport const Paginator = (posts, processedData, limit) => {\n  return [...posts, ...processedData.slice(posts.length, posts.length + limit)];\n};\n\nconst GetAPIData = async (apiUrl) => {\n  const promises = apiUrl.map(async (repo) => {\n    const apiPath = `${process.env.SERVER_API}/static/data`; // read it from env variable\n    const api = `${apiPath}/${repo.endpoint}.json`;\n    const response = await FetchAPIData(api);\n    return {\n      name: repo.name,\n      data: response,\n    };\n  });\n  const receviedData = await Promise.all(promises);\n  return receviedData;\n};\n\nexport default GetAPIData;\n"]},"metadata":{},"sourceType":"module"}