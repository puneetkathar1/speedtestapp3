{"ast":null,"code":"import _Button from \"antd/lib/button\";\nvar __jsx = React.createElement;\nimport React, { useEffect } from 'react';\nimport { IoIosArrowBack } from 'react-icons/io';\nimport { useStateMachine } from 'little-state-machine';\nimport { useForm } from 'react-hook-form';\nimport DragAndDropUploader from 'components/UI/ImageUploader/DragAndDropUploader';\nimport FormControl from 'components/UI/FormControl/FormControl';\nimport AddListingAction from './AddListingAction';\nimport { FormHeader, Title, FormContent, FormAction } from './AddListing.style';\n\nvar HotelPhotos = function HotelPhotos(_ref) {\n  var setStep = _ref.setStep;\n\n  var _useForm = useForm({\n    defaultValues: {\n      hotelPhotos: [{\n        uid: '1',\n        name: 'hotel-1.png',\n        status: 'done',\n        url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png'\n      }, {\n        uid: '2',\n        name: 'hotel-2.png',\n        status: 'done',\n        url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png'\n      }, {\n        uid: '3',\n        name: 'hotel-3.png',\n        status: 'done',\n        url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png'\n      }]\n    }\n  }),\n      register = _useForm.register,\n      errors = _useForm.errors,\n      setValue = _useForm.setValue,\n      handleSubmit = _useForm.handleSubmit;\n\n  var _useStateMachine = useStateMachine(AddListingAction),\n      action = _useStateMachine.action,\n      state = _useStateMachine.state;\n\n  useEffect(function () {\n    register({\n      name: 'hotelPhotos'\n    }, {\n      required: true\n    });\n  }, [register]);\n\n  var onSubmit = function onSubmit(data) {\n    action(data);\n    setStep(3);\n  };\n\n  return __jsx(\"form\", {\n    onSubmit: handleSubmit(onSubmit)\n  }, __jsx(FormContent, null, __jsx(FormHeader, null, __jsx(Title, null, \"Step 2: Hotel Photos\")), __jsx(FormControl, {\n    error: errors.hotelPhotos && __jsx(\"span\", null, \"This field is required!\")\n  }, __jsx(DragAndDropUploader, {\n    name: \"hotelPhotos\",\n    value: state.data.hotelPhotos,\n    onUploadChange: function onUploadChange(data) {\n      return setValue('hotelPhotos', data);\n    }\n  }))), __jsx(FormAction, null, __jsx(\"div\", {\n    className: \"inner-wrapper\"\n  }, __jsx(_Button, {\n    className: \"back-btn\",\n    htmlType: \"button\",\n    onClick: function onClick() {\n      return setStep(1);\n    }\n  }, __jsx(IoIosArrowBack, null), \" Back\"), __jsx(_Button, {\n    type: \"primary\",\n    htmlType: \"submit\"\n  }, \"Next\"))));\n};\n\nexport default HotelPhotos;","map":null,"metadata":{},"sourceType":"module"}