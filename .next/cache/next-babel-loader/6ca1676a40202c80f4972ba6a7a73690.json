{"ast":null,"code":"import _Button from \"antd/lib/button\";\nvar __jsx = React.createElement;\nimport React, { useEffect } from 'react';\nimport { IoIosArrowBack } from 'react-icons/io';\nimport { useStateMachine } from 'little-state-machine';\nimport { useForm } from 'react-hook-form';\nimport DragAndDropUploader from 'components/UI/ImageUploader/DragAndDropUploader';\nimport FormControl from 'components/UI/FormControl/FormControl';\nimport AddListingAction from './AddListingAction';\nimport { FormHeader, Title, FormContent, FormAction } from './AddListing.style';\n\nconst HotelPhotos = ({\n  setStep\n}) => {\n  const {\n    register,\n    errors,\n    setValue,\n    handleSubmit\n  } = useForm({\n    defaultValues: {\n      hotelPhotos: [{\n        uid: '1',\n        name: 'hotel-1.png',\n        status: 'done',\n        url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png'\n      }, {\n        uid: '2',\n        name: 'hotel-2.png',\n        status: 'done',\n        url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png'\n      }, {\n        uid: '3',\n        name: 'hotel-3.png',\n        status: 'done',\n        url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png'\n      }]\n    }\n  });\n  const {\n    action,\n    state\n  } = useStateMachine(AddListingAction);\n  useEffect(() => {\n    register({\n      name: 'hotelPhotos'\n    }, {\n      required: true\n    });\n  }, [register]);\n\n  const onSubmit = data => {\n    action(data);\n    setStep(3);\n  };\n\n  return __jsx(\"form\", {\n    onSubmit: handleSubmit(onSubmit)\n  }, __jsx(FormContent, null, __jsx(FormHeader, null, __jsx(Title, null, \"Step 2: Hotel Photos\")), __jsx(FormControl, {\n    error: errors.hotelPhotos && __jsx(\"span\", null, \"This field is required!\")\n  }, __jsx(DragAndDropUploader, {\n    name: \"hotelPhotos\",\n    value: state.data.hotelPhotos,\n    onUploadChange: data => setValue('hotelPhotos', data)\n  }))), __jsx(FormAction, null, __jsx(\"div\", {\n    className: \"inner-wrapper\"\n  }, __jsx(_Button, {\n    className: \"back-btn\",\n    htmlType: \"button\",\n    onClick: () => setStep(1)\n  }, __jsx(IoIosArrowBack, null), \" Back\"), __jsx(_Button, {\n    type: \"primary\",\n    htmlType: \"submit\"\n  }, \"Next\"))));\n};\n\nexport default HotelPhotos;","map":null,"metadata":{},"sourceType":"module"}